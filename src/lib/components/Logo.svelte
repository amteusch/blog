<script>
	import { spring } from 'svelte/motion';

	let triggered = false;
	let springyRotation = spring(0, { stiffness: 0.2, damping: 0.15 });
	$: springyRotation.set(triggered ? 10 : 0);
	$: style = `transform: rotate(${$springyRotation}deg)`;

	$: if (triggered)
		window.setTimeout(() => {
			triggered = false;
		}, 200);

	function trigger() {
		triggered = true;
	}

	let klass = undefined;
	export { klass as class };
</script>

<a
	on:mouseenter={trigger}
	on:click={trigger}
	{style}
	href="/"
	aria-label="Logo that redirects to the homepage"
	class={`logo ${klass}`}
>
	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="584.573 264.491 241.925 241.925" width="32pt" height="32pt"><defs><clipPath id="_clipPath_hJhjuU89dpbMrshLDlr9rbicf4odj6LZ"><rect x="584.573" y="264.491" width="241.925" height="241.925"/></clipPath></defs><g clip-path="url(#_clipPath_hJhjuU89dpbMrshLDlr9rbicf4odj6LZ)"><circle vector-effect="non-scaling-stroke" cx="705.535035329934" cy="385.45312157811463" r="120.96245984167649" fill="rgb(74,134,232)"/><path d=" M 756.621 417.993 C 753.974 416.647 750.745 417.724 749.4 420.415 L 744.017 431.179 C 742.672 433.825 743.748 437.055 746.439 438.4 C 747.71 439.053 749.19 439.169 750.547 438.722 C 751.905 438.276 753.026 437.303 753.661 436.023 L 759.043 425.259 C 760.343 422.568 759.267 419.338 756.621 417.993 Z  M 707.06 421.177 C 704.1 421.177 701.678 423.599 701.678 426.559 L 701.678 433.556 C 701.678 436.516 704.1 438.938 707.06 438.938 C 710.02 438.938 712.442 436.516 712.442 433.556 L 712.442 426.559 C 712.442 423.599 710.065 421.177 707.06 421.177 L 707.06 421.177 Z  M 788.106 346.769 C 781.987 336.935 771.208 330.977 759.626 331.026 L 659.921 331.026 C 653.687 331.026 647.587 331.968 641.801 333.762 C 641.006 332.51 639.825 331.55 638.437 331.026 C 637.506 330.672 636.518 330.49 635.522 330.488 C 635.029 330.488 634.535 330.488 634.087 330.533 C 633.638 330.578 633.19 330.667 632.831 330.712 C 632.472 330.757 632.158 330.847 631.934 330.891 C 631.844 330.936 631.755 330.936 631.665 330.981 C 631.62 330.981 631.575 331.026 631.575 331.026 C 631.575 331.026 631.575 331.071 631.53 331.116 C 631.53 331.161 631.485 331.25 631.441 331.385 C 631.396 331.564 631.306 331.923 631.261 332.282 C 631.216 332.641 631.127 333.089 631.082 333.538 C 631.037 333.986 631.037 334.48 631.037 334.973 C 631.082 335.466 631.082 335.96 631.172 336.453 C 631.261 336.946 631.396 337.44 631.575 337.888 C 631.575 337.933 631.62 337.978 631.62 338.023 C 626.283 340.848 621.349 344.437 616.954 348.832 C 615.922 349.864 615.384 351.209 615.384 352.644 L 615.384 355.784 L 593.855 377.313 C 590.402 380.766 588.473 385.386 588.473 390.319 C 588.473 395.208 590.402 399.828 593.855 403.326 L 607.759 417.23 C 611.213 420.684 615.832 422.612 620.766 422.612 C 625.655 422.612 630.274 420.684 633.773 417.23 L 649.919 401.084 L 668.398 401.084 L 663.868 432.928 C 663.644 434.453 664.092 436.023 665.124 437.234 C 666.156 438.4 667.636 439.073 669.205 439.073 L 690.734 439.073 C 693.425 439.073 695.668 437.099 696.071 434.453 L 699.032 413.642 C 708.361 416.916 717.69 418.576 727.064 418.576 C 736.796 418.576 746.529 416.782 756.217 413.239 C 760.134 417.908 765.503 421.129 771.466 422.388 L 771.466 435.036 C 771.466 437.996 773.888 440.418 776.849 440.418 L 798.377 440.418 C 801.337 440.418 803.759 437.996 803.759 435.036 L 803.759 412.162 C 803.759 410.727 803.176 409.381 802.19 408.35 L 792.995 399.155 L 792.995 364.665 C 793.003 362.831 792.853 361 792.547 359.193 C 799.185 362.243 803.759 369.015 803.759 376.864 L 803.759 385.117 C 803.759 388.077 806.181 390.499 809.142 390.499 C 812.102 390.499 814.524 388.077 814.524 385.117 L 814.524 376.774 C 814.748 361.256 803.087 348.428 788.106 346.769 L 788.106 346.769 Z  M 793.219 414.27 L 793.219 429.52 L 782.455 429.52 L 782.455 417.41 C 782.455 414.45 780.033 412.028 777.073 412.028 C 768.147 412.028 760.926 404.762 760.926 395.881 L 760.926 390.499 C 760.926 387.539 758.504 385.117 755.544 385.117 C 752.584 385.117 750.162 387.539 750.162 390.499 L 750.162 395.881 C 750.162 398.527 750.566 401.129 751.283 403.551 C 734.374 409.426 717.824 409.157 700.87 402.654 C 701.633 399.514 703.248 396.599 705.535 394.311 C 706.897 392.949 707.429 390.964 706.93 389.103 C 706.432 387.243 704.979 385.79 703.118 385.291 C 701.258 384.793 699.272 385.325 697.91 386.687 C 693.597 391.009 690.796 396.61 689.927 402.654 L 686.294 428.174 L 675.619 428.174 L 680.149 396.33 C 680.373 394.805 679.925 393.235 678.893 392.024 C 677.862 390.858 676.382 390.185 674.812 390.185 L 671.313 390.185 C 673.511 386.687 674.812 382.515 674.812 378.075 C 674.812 375.115 672.39 372.693 669.43 372.693 C 666.47 372.693 664.048 375.115 664.048 378.075 C 664.048 384.758 658.621 390.185 651.938 390.185 L 647.901 390.185 C 647.722 390.185 647.542 390.185 647.363 390.23 C 647.228 390.23 647.094 390.275 646.959 390.275 L 646.825 390.275 L 646.376 390.409 L 646.331 390.409 C 646.197 390.454 646.017 390.499 645.883 390.589 L 645.838 390.589 C 645.703 390.633 645.569 390.723 645.434 390.768 C 645.389 390.768 645.389 390.813 645.345 390.813 C 645.21 390.858 645.12 390.947 644.986 391.037 C 644.941 391.082 644.896 391.082 644.896 391.082 C 644.806 391.172 644.717 391.217 644.582 391.306 C 644.537 391.351 644.492 391.351 644.448 391.396 C 644.313 391.486 644.223 391.62 644.089 391.71 L 644.044 391.755 L 626.328 409.471 C 624.892 410.906 622.964 411.714 620.945 411.714 C 618.927 411.714 616.998 410.906 615.563 409.471 L 601.659 395.567 C 600.224 394.132 599.417 392.203 599.417 390.185 C 599.417 388.167 600.224 386.238 601.659 384.803 L 624.758 361.704 C 625.789 360.673 626.328 359.327 626.328 357.892 L 626.328 354.797 C 635.522 346.365 647.363 341.745 659.921 341.745 L 759.626 341.745 C 768.327 341.745 776.131 346.589 780.033 354.349 C 781.603 357.488 782.455 361.032 782.455 364.53 L 782.455 401.218 C 782.455 402.654 783.038 403.999 784.025 405.031 L 793.219 414.27 L 793.219 414.27 Z " fill="rgb(70,70,70)"/></g></svg>
</a>

<style lang="scss">
	.logo {
		padding: var(--spacing-00);
		text-decoration: none;
		border-radius: var(--radius-1);
		transition: background-color ease-in-out 200ms;

		svg {
			display: block;
		}

		&:hover {
			background: var(--gray-400);
		}
	}
</style>
